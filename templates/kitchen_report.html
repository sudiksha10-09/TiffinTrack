<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Kitchen Report ‚Äì TiffinTrack</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>

<body class="app">

<!-- NAVBAR -->
<nav class="navbar">
  <div class="nav-container">
    <div class="logo">üç± TiffinTrack</div>
    <div>
      <a href="/admin" class="btn-outline">Dashboard</a>
      <button onclick="window.print()" class="btn-primary">Print Report</button>
      <a href="/logout" class="btn-secondary">Logout</a>
    </div>
  </div>
</nav>

<div class="dashboard">
  <div class="page-header">
    <div class="page-title">
      <h1>Kitchen Production Report</h1>
      <p>Daily meal preparation requirements for {{ report_date.strftime('%B %d, %Y') }}</p>
    </div>
  </div>

  <!-- SUMMARY -->
  <div class="kpi-grid">
    <div class="kpi-card">
      <div class="kpi-icon" style="background:#16a34a;">
        <i class="fas fa-utensils"></i>
      </div>
      <div class="kpi-info">
        <h3>Total Meals</h3>
        <p>{{ total_meals }}</p>
      </div>
    </div>

    <div class="kpi-card">
      <div class="kpi-icon" style="background:#2563eb;">
        <i class="fas fa-list"></i>
      </div>
      <div class="kpi-info">
        <h3>Plan Types</h3>
        <p>{{ production_data|length }}</p>
      </div>
    </div>
  </div>

  <!-- PRODUCTION BREAKDOWN -->
  <div class="table-card">
    <div class="table-header">
      Production Requirements
    </div>

    {% if production_data %}
    <table class="dashboard-table">
      <thead>
        <tr>
          <th>Plan Type</th>
          <th>Quantity</th>
          <th>Menu Items</th>
        </tr>
      </thead>
      <tbody>
        {% for plan_name, data in production_data.items() %}
        <tr>
          <td><strong>{{ plan_name }}</strong></td>
          <td>
            <span class="badge-pill badge-active">{{ data.count }} meals</span>
          </td>
          <td>
            {% for item in data.items %}
              <span class="badge-pill" style="background:#f3f4f6; color:#374151; margin:2px;">{{ item }}</span>
            {% endfor %}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% else %}
    <div style="padding:40px; text-align:center; color:#6b7280;">
      <i class="fas fa-utensils" style="font-size:48px; margin-bottom:16px;"></i>
      <p>No meals to prepare today</p>
    </div>
    {% endif %}
  </div>

  <!-- INSTRUCTIONS -->
  <div class="activity-card" style="margin-top:20px;">
    <h3>Kitchen Instructions</h3>
    <ul style="color:#6b7280; line-height:1.6;">
      <li>Prepare meals according to the quantities above</li>
      <li>Check delivery routes for packaging requirements</li>
      <li>Ensure all items are fresh and properly cooked</li>
      <li>Label containers with plan types for easy identification</li>
    </ul>
  </div>

</div>

<style>
@media print {
  .navbar, .btn-primary, .btn-secondary, .btn-outline { display: none !important; }
  .dashboard { margin: 0; padding: 20px; }
}
</style>

</body>
</html>